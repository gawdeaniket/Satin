

<div *ngIf="alertBox" class="alert alert-success alert-dismissible">
    
    <strong style="font-size: 18px;">Success!!...</strong><br> Product Updated Succefully!!......
    
    <button  data-dismiss="alert" aria-label="close" style="display:block;width:30%;margin-left:auto;margin-right:auto;margin-top:30px;background-color: #000000;color:#fcdb04;box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2), 0 6px 6px 0 rgba(0, 0, 0, 0.19);border: none;padding: 7px; ">
    
    OK</button>
    
  </div>

  <div *ngIf="alertcheck" class="alert alert-success alert-dismissible" style="left: 40%;">
    
      <strong style="font-size: 18px;">Are you sure  you want to approve the total of {{uploadOrderList.length}} order ?</strong><br> 
      <div style="width: 100%;">
      <button   (click)="UploadApprove()"  style="display:inline;float: left;width:30%;margin-left:20%;margin-right:auto;margin-top:30px;background-color: #000000;color:#fcdb04;box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2), 0 6px 6px 0 rgba(0, 0, 0, 0.19);border: none;padding: 7px; ">
      
          OK</button>
      <button  data-dismiss="alert" (click)="cancelapprove()" style="display:inline;float: left;width:30%;margin-left:10%;margin-right:auto;margin-top:30px;background-color: #000000;color:#fcdb04;box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2), 0 6px 6px 0 rgba(0, 0, 0, 0.19);border: none;padding: 7px; ">
      
      CANCEL</button>
      </div>
      
    </div>
  
    
  
  <!-- Search bar -->
  <div class="container text-center" >
      <span class="text-style text-center"> Branch Wise Order List </span>
  </div>

  <div class="container text-center" *ngIf="!AllApprove" >
      <span class="text-style text-center" style="font-size: 18px;"> No order pending for approval </span>
  </div>


  <div class="container text-center" *ngIf="AllApprove">
      <!-- <span class="text-style text-center" style="font-size: 1.2vw;"> Order Generated at &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  17/05/2019 </span> -->
  </div>
      <br><br>
     
    
      <div style="width: 50%;margin-left:26%;margin-bottom: 4vh;" *ngIf="AllApprove">
        <table style="width: 100%;margin: 0px;">
          <tr>
            <th>STATE</th>
          <th> ORDERS</th>

          </tr>

          <tr *ngFor="let item of uploadOrder">
            <td>{{item.state}}</td>
            <td>{{item.count}}</td>
          </tr>
         

          </table>
          <button type="button" *ngIf="modifybutton" class="btn btn-default" style="background-color: #fcdb04;padding-left: 20px;padding-right: 20px;float: left;margin-top: 3vh;" (click)="sendApprove()">Approve</button>

          <button type="button"  class="btn btn-default" style="background-color: #fcdb04;padding-left: 2vw;padding-right: 2vw;margin-top: 3vh;font-weight: bold;float: right;" (click)="modifyApproval()">Modify</button>
        
        </div>
<br><br><br>
      <!-- Table -->
      <div *ngIf="AllApprove">
      <div *ngIf="approvetable" class="container" style="overflow:auto;padding-bottom: 2vh;margin-top: 6vh;padding-left: 3vw;width: 90%;margin-left: 5%;">
        <!-- <div style="width: 90%;margin-left:5%;"> 
        <button type="button" *ngIf="uploadOrderList.length != 0" class="btn btn-default" style="background-color: #fcdb04;padding-left: 2vw;padding-right: 2vw;margin-bottom: 3vh;font-weight: bold;" (click)="modifyApproval()">Modify</button>
          <button type="button"  class="btn btn-default" style="background-color: #fcdb04;padding-left: 2vw;padding-right: 2vw;margin-bottom: 3vh;font-weight: bold;margin-left: 5%;" (click)="download()">Download</button>
          <button type="button" *ngIf="uploadOrderList.length != 0" class="btn btn-default" style="background-color: #eeeeee;margin-top:2vh ;margin-left: 10%;padding-left: 20px;padding-right: 20px;float: right;" (click)="sendApprove()">Clear</button>

          <button type="button" *ngIf="uploadOrderList.length != 0" class="btn btn-default" style="background-color: #eeeeee;padding-left: 20px;padding-right: 20px;float: right;margin-bottom: 3vh;" (click)="sendApprove()">Approve</button>

        </div> -->
        <table >
            <!-- [class.active]="order === 'branch_id'" -->
                             <tr style="cursor: pointer;">
                               <th 
                               (click)="setOrder('branch_id')">Branch Id 
                                  <i class="material-icons " style="float: right;">
                                      swap_vert
                                      </i>
                               </th>
                               <th (click)="setOrder('branch_name')">Branch Name
                                  <i class="material-icons " style="float: right;">
                                      swap_vert
                                      </i>
                               </th>
                               <th (click)="setOrder('region')">Region
                                  <i class="material-icons " style="float: right;">
                                      swap_vert
                                      </i>
                               </th>
                               <th (click)="setOrder('product_name')">Product Name
                                  <i class="material-icons " style="float: right;">
                                      swap_vert
                                      </i>
                               </th>
                               <th>Poduct Quantity
                                  
                               </th>
                               
                             </tr>
                             <tr *ngIf="uploadOrderList.length == 0">
                               <td colspan="5"> No data Available </td>

                             </tr>
                             <tr *ngIf="uploadOrderList.length != 0">
                                <td>
                                    <input type="text" placeholder="Search By Id" [(ngModel)]="branchId" style="border:2px solid #eeeeee;padding: 5px;">
                                  </td>
                                  <td>
                                      <input type="text" placeholder="Search By Name" [(ngModel)]="name" style="border:2px solid #eeeeee;padding: 5px;">
                                    </td>
                                    <td>
                                        <input type="text" placeholder="Search By Region" [(ngModel)]="region" style="border:2px solid #eeeeee;padding: 5px;">
                                      </td>
                                      <td>
                                          <input type="text" placeholder="Search By Product " [(ngModel)]="product" style="border:2px solid #eeeeee;padding: 5px;">
                                        </td>
                                        <td>
                                          </td>
                             </tr>
                             <tr *ngFor="let item of uploadOrderList  | mulipleSearch:branchId:name:region:product | paginate: { itemsPerPage: 5, currentPage: p }; let i = index">
                                 
                                 <td>{{item.branch_id}}</td>
                                 <td>{{item.branch_name}}</td>
                                 <td>{{item.region}}</td>
                                 <td>{{item.product_name}}</td>
                                 <td >
                                    <i class="material-icons" style="float:left;cursor: pointer;margin-left: 5px;margin-top: 3px;" (click)="decrease(i)">
                                        remove_circle_outline
                                        </i>
                                    <input type="number" (ngModelChange)="changedValue($event,i)"   [(ngModel)]="item.product_qty" [disabled]="modifyContent" style="text-align: center ;padding: 5px;width: 50%;">
                                    <i class="material-icons" style="float: right;cursor: pointer;margin-right: 5px;margin-top: 3px;" (click)="increase(i)">
                                        add_circle_outline
                                        </i>
                                  </td>
                                 <!-- <td>{{item.current_stock}}</td> -->
                              </tr>
                            
        </table>
        <div style="margin-left:30%;margin-top:3vh;">
            <pagination-controls *ngIf="uploadOrderList.length != 0" (pageChange)="pagechanged($event)"></pagination-controls>
           </div>
           <button type="button" *ngIf="uploadOrderList.length != 0" class="btn btn-default" style="background-color: #fcdb04;padding-left: 30px;padding-right: 30px;margin-bottom: 3vh;" (click)="sendApprove()">Approve</button>
           <button type="button" *ngIf="uploadOrderList.length != 0" class="btn btn-default" style="background-color: #fcdb04;padding-left: 30px;padding-right: 30px;margin-bottom: 3vh;margin-left: 1vw" (click)="clearValue()">Clear</button>
             
                             </div>


       </div>
                              
    
                         
    
      
      
    
