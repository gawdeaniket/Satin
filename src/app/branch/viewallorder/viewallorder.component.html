


<div *ngIf="alertBox" class="alert alert-success alert-dismissible">
    
    <strong>Alert!!...</strong> You have {{failures.length}} Failures Results.
    
    <button  data-dismiss="alert" aria-label="close" style="display:block;width:30%;margin-left:auto;margin-right:auto;margin-top:30px;background-color: #000000;color:#fcdb04;box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2), 0 6px 6px 0 rgba(0, 0, 0, 0.19);border: none;padding: 7px; ">
    
    OK</button>
    
  </div>
  
  <div style="width: 100%;height:100%;background-color: #ffffff;z-index: 1;" *ngIf="loaders">
      <div class="loader"></div>
      </div>
      
      
      <div *ngIf="!loaders">
  <!-- Search bar -->
 
  <br><br>
  <div class="row" style="width: 90%;margin-left: 5%;margin-right: 5%;">
    <div class="col-xs-4 col-sm-4 col-lg-2 text-style" style="text-align: center;">Received Date</div>
      <div class="col-xs-4 col-sm-4 col-lg-3 box-shadows cursor" style="padding: 5px;background-color: #ffffff;">
        <input  style="border:none;width: 80%;margin: 0px;cursor: pointer;"
               placeholder="Start Date"
               ngModel
               #startsDate="bsDatepicker"
               [bsConfig]="bsConfig"
               bsDatepicker [(ngModel)]="startDate" (ngModelChange)="dateset($event)"
               
              [maxDate]="maxDate1"
               >
               <i class="material-icons" (click)="startsDate.toggle()"  style="float:right;padding-top: 0.4vh;" >date_range</i>
      </div>
      <div class="col-xs-4 col-sm-4 col-lg-1 text-style" style="text-align: center;font-size: 16px;"> TO</div>
      <div class="col-xs-4 col-sm-4 col-lg-3 box-shadows cursor" style="padding: 5px;background-color: #ffffff;">
        <input  style="border:none;width: 80%;margin: 0px;cursor: pointer;"
               placeholder="End Date"
               #endsDate="bsDatepicker"
               ngModel
               [bsConfig]="bsConfig"
               bsDatepicker [(ngModel)]="endDate" (ngModelChange)="datesetend($event)"
               [minDate]="minDate2"
              [maxDate]="maxDate2"
               >
               <i class="material-icons" (click)="endsDate.toggle()"  style="float:right;padding-top: 0.4vh;" >date_range</i>
      </div>
      <div class="col-xs-4 col-sm-4 col-lg-2" style="padding: 0.4vh;margin-left:1vw;">
          <button type="button" class="btn " style="background-color: #000000;color: #fcdb04;border:1px solid #000000"  (click)="DateFilter()">Submit</button>
          <button type="button" class="btn " style="background-color:  #000000;color: #fcdb04;margin-left: 10px;border:1px solid #000000"  (click)="clearDate()">Clear</button> 

      </div>
    </div>
  <br><br>
  <!-- card -->
  <div class="container" style="margin-top:4vh;padding: 0px;">
  
  
  <div class="card-columns" style="margin: 0px;padding: 0px">
    <div class="card " style="margin-left: 0px;">
      <div class="card-body text-center">
          <p class="card-text textnumber">{{viewAllDelivery.length}}</p>
          <p class="card-text">ALL</p>
      </div>
    </div>
    <div class="card " >
        <div class="card-body text-center">
            <p class="card-text textnumber" >{{OrderedCount}}</p>
            <p class="card-text">ORDERED</p>
        </div>
      </div>
      <div class="card " style="margin-left: 1.4%;">
          <div class="card-body text-center" >
              <p class="card-text textnumber" >{{ReceivedCount}}</p>
              <p class="card-text">RECEIVED</p>
          </div>
        </div>

    <div class="card " style="margin-left: 1.4%;">
      <div class="card-body text-center">
          <p class="card-text textnumber" color="primary" >{{DisursedCount}}</p>
          <p class="card-text">DISBURSED</p>
      </div>
    </div>
  </div>
  </div>
  
  <div class="container" style="padding: 0px;margin-top: 3vh;">
  
      <!-- <div class="search-container">
        
        <input type="text" [(ngModel)]="searchText" autocomplete="off" placeholder="Search By Customer Name" name="search" style="border:none;">
        <button type="submit" style="border-radius:10px;background-color: #eeeeee;border:none;cursor: pointer;">Submit</button>
      
      </div> -->
      </div>
  <!-- Table -->
  <div style="width: 90%;overflow:auto;padding-bottom: 2vh;margin-top: 3vh;margin-left: 5%;">
                     <table >
                         <tr class="cursors">
                           <th (click)="setOrder('invoice_id')" style="max-width: 10vw !important;">Invoice ID
                             <button style="padding: 0px;float :right;border:none;background:transparent;">
                              <i class="material-icons " style="float: right;">
                                  swap_vert
                                  </i>
                                  </button>
                           </th>
                           <th (click)="setOrder('product_name')">Product Name
                              <button style="padding: 0px;float :right;border:none;background:transparent;">

                              <i class="material-icons " style="float: right;">
                                  swap_vert
                                  </i>
                                  </button>
                           </th>
                           <th (click)="setOrder('customer_name')">Customer Name
                              <button style="padding: 0px;float :right;border:none;background:transparent;">

                              <i class="material-icons " style="float: right;">
                                  swap_vert
                                  </i>
                                  </button>
                           </th>
                           <th (click)="setOrder('customer_phone')">Customer Phone
                              <button style="padding: 0px;float :right;border:none;background:transparent;">

                              <i class="material-icons " style="float: right;">
                                  swap_vert
                                  </i>
                                  </button>
                           </th>
                           <th >Customer Address
                             
                           </th>
                           <th (click)="setOrder('status')"> Status
                              <button style="padding: 0px;float :right;border:none;background:transparent;">
                               <i class="material-icons " style="float: right;">
                                  swap_vert
                                  </i>
                                  </button>
                           </th>
                           <th  class="cursor" (click)="setOrder('received_date')">Received Date
                              <button style="padding: 0px;float :right;border:none;background:transparent;">
                                  <i class="material-icons " style="float: right;">
                                  swap_vert
                                  </i>
                                  </button>
                           </th>
                           <th  class="cursor" (click)="setOrder('disbursal_date')">Disbursal Date
                              <button style="padding: 0px;float :right;border:none;background:transparent;">
                                  <i class="material-icons " style="float: right;">
                                  swap_vert
                                  </i>
                                  </button>
                           </th>
                           
                         </tr>
                         <tr *ngIf="viewAllDelivery.length == 0">
                          <td colspan="8" style="font-weight: bold;"> No data Available </td>

                        </tr>
                        <tr *ngIf="viewAllDelivery.length != 0">
                            <td>
                                <input type="text" placeholder="Search By Invoice Id " [(ngModel)]="invoiceId" style="border:2px solid #eeeeee;padding: 5px;width: 140px;">
                              </td>
                              <td>
                                  <input type="text" placeholder="Search By product name" [(ngModel)]="productName" style="border:2px solid #eeeeee;padding: 5px;width: 140px;">
                                </td>
                                <td>
                                    <input type="text" placeholder="Search By customer name" [(ngModel)]="customerName" style="border:2px solid #eeeeee;padding: 5px;width: 140px;">
                                  </td>
                                  <td>
                                      <input type="text" placeholder="Search By customer phone " [(ngModel)]="customerPhone" style="border:2px solid #eeeeee;padding: 5px;width: 140px;">

                                    </td>
                                    <td>
                                        <input type="text" placeholder="Search By customer address " [(ngModel)]="cutomerAddress" style="border:2px solid #eeeeee;padding: 5px;width: 140px;">
                                      </td>
                            <td>
                                <input type="text" placeholder="Search By status" [(ngModel)]="status" style="border:2px solid #eeeeee;padding: 5px;width: 140px;">
                              </td>
                              <td>
                                  <input type="text" placeholder="Search By recived date" [(ngModel)]="ReceivedDate" style="border:2px solid #eeeeee;padding: 5px;width: 140px;">
                                </td>
                                <td>
                                    <input type="text" placeholder="Search By disbursed date" [(ngModel)]="disbursalDate" style="border:2px solid #eeeeee;padding: 5px;width: 140px;">
                                  </td>
                                  
                                    
                         </tr>
                         <tr  *ngFor="let item of viewAllDelivery | filter:searchText  |multipleSearchAllorder:invoiceId:productName:customerName :customerPhone:cutomerAddress :status: ReceivedDate:disbursalDate |searchByDate:startDate:endDate:datefiltercheck :'received_date' | paginate: { itemsPerPage: 5, currentPage: p }; let i = index">
                          

                             <td style="max-width: 10vw !important;">{{item.invoice_id}}</td>
                             <td>{{item.product_name}}</td>
                             <td>{{item.customer_name}}</td>
                             <td>{{item.customer_phone}}</td>
                             <td>
                              <div style="float: left;text-overflow: ellipsis;overflow: hidden;white-space: nowrap;height: 80%;width: 13vw;margin: 0px;">{{item.address}}</div></td>
                             <td>{{item.status}}</td>
                             <td>{{item.dateformat_received}}</td>
                             <td>{{item.dateformat_disbursal}}</td>
                            
                                 
                                 
                               </tr>
                         </table>
                         </div>
                         <div style="margin-left:30%;margin-top:3vh;">
                         <pagination-controls (pageChange)="pagechanged($event)"></pagination-controls>
                        </div>
                     

  
  </div>
